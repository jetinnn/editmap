(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{10:function(e,a){},11:function(e,a){},"1Wqb":function(e,a,t){e.exports=t.p+"static/indoor.0.1.17125fd6.laz"},"2/GM":function(e,a){},"4+2k":function(e,a,t){e.exports={main:"main___FGIwY"}},"7iyd":function(e,a,t){e.exports={main:"main___211iJ"}},"8ZhI":function(e,a,t){},Bwxa:function(e,a,t){e.exports={isModifyModeOn:"isModifyModeOn___1-Bj2"}},Dtc0:function(e,a,t){"use strict";t.r(a);t("g9YV");var i=t("wCAj"),n=(t("Znn+"),t("ZTPi")),o=(t("XfOM"),t("q1tI")),r=t.n(o),l=t("/MKj"),s=t("LvDl"),d=e=>Object(l["e"])(a=>Object(s["get"])(a,e)),c=(t("glkz"),t("qIgq")),p=t.n(c),m=t("4QnL"),u=t("Mpt7"),y=t("UP1k"),A=(t("2qtc"),t("kLXV")),g=(t("5NDa"),t("5rEg")),v=t("jehZ"),M=t.n(v),f=t("yYqN"),h=t("Qjj3");function E(e,a){var t=e.sFI,i=[255,195,0,200],n=[255,125,0,200],o=[0,95,204,200],r=[67,97,238,255],l=[255,125,0,200],s=[255,125,0,255],d=[255,125,0,255],c=[255,125,0,255],p=new h["EditableGeoJsonLayer"]({id:e.id,data:e.data,mode:e.mode,selectedFeatureIndexes:t,onEdit:a,pickable:!0,_subLayerProps:{geojson:{getFillColor:a=>t.some(t=>e.data.features[t]===a)?i:o,getLineColor:a=>t.some(t=>e.data.features[t]===a)?n:r},guides:{getFillColor:e=>"tentative"===e.properties.guideType?l:s,getLineColor:e=>"tentative"===e.properties.guideType?d:c,getRadius:e=>"tentative"===e.properties.guideType?d:.1}}});return p}var O=E,k=(t("2/GM"),t("08OO")),w=t("BENj"),b=t("WVt+"),j=t("clG9"),L=t("FR1t"),T=t("PNPl"),S=t("kENN"),V=t("gLdf"),x=t("V3d6"),C=t("7iyd"),I=t.n(C),F=t("wLF8"),R=t.n(F),D=t("vYv5"),P=t.n(D);function B(e){var a=Object(l["d"])(),t=(Object(o["useRef"])(),Object(o["useState"])({width:window.innerWidth,height:window.innerHeight,latitude:30.86454,longitude:121.807491,zoom:13,minZoom:5,maxZoom:22})),i=p()(t,2),n=i[0],s=i[1],c=Object(o["useState"])(!1),v=p()(c,2),E=v[0],C=v[1],F=Object(o["useState"])(""),D=p()(F,2),B=D[0],U=D[1],G=Object(o["useState"])(""),J=p()(G,2),Y=J[0],X=J[1],W=Object(o["useState"])(""),Z=p()(W,2),N=Z[0],z=(Z[1],d("editMap")),q=z.editLayerProps,K=z.selectionType,H=(z.sFIMap,z.isModifyModeOn),Q=z.isTranslateModeOn,_=z.isDuplicateModeOn,$=z.isEditOn,ee=z.isDragPan,ae=z.mapConfig,te=z.isShiftDown,ie=z.selectedFeature,ne=z.is3DViewshown,oe=z.isCameraShown,re=z.isBearingSet,le=z.cameraLon,se=z.cameraLat,de=z.cameraRotateDegree,ce=z.isTextModeOn,pe=z.textData,me=z.trafficLightData;Object(o["useEffect"])(()=>{console.log(N)},[N]);var ue=()=>{C(!1);var e={position:Y,name:B};pe=[...pe,e],a({type:"editMap/save",payload:{textData:pe}}),U("")},ye=()=>{C(!1),U("")},Ae=e=>{U(e.target.value)},ge=[];q.map(e=>{if(e.visible){var t=q.map(e=>e.id).indexOf(e.id),i=e=>{if(console.log(e),q[t].data=e.updatedData,["movePosition","removePosition"].includes(e.editType)){var i=[];e.editContext.featureIndexes.map(e=>{i.push(e)}),console.log("temp"),console.log(i),console.log(e.editContext.featureIndexes),q[t].sFI=[...i]}a({type:"editMap/save",payload:{editLayerProps:q,isDragPan:ee}}),console.log(q)};ge.push(O(e,i))}});var ve=()=>Object(u["a"])(ae),Me=e=>{if(e.coordinate&&oe&&!re){var t=b["point"]([le,se]),i=b["point"](e.coordinate),n=b["bearing"](t,i);console.log(n),a({type:"editMap/save",payload:{cameraRotateDegree:n}})}},fe=e=>{console.log(e),ce&&(C(!0),X(e.coordinate)),ne&&!oe?(oe=!0,se=e.coordinate[1],le=e.coordinate[0],a({type:"editMap/save",payload:{isCameraShown:oe,cameraLat:se,cameraLon:le}})):ne&&oe&&!re?(re=!0,a({type:"editMap/save",payload:{isBearingSet:re}})):ne&&oe&&re&&(re=!1,se=e.coordinate[1],le=e.coordinate[0],a({type:"editMap/save",payload:{isBearingSet:re,cameraLat:se,cameraLon:le}})),$||(e.layer?q.map(a=>{if(a.id==e.layer.id){a.sFI=te?a.sFI.includes(e.index)?a.sFI.filter(a=>a!==e.index):[...a.sFI,e.index]:a.sFI.includes(e.index)?[]:[e.index];var t={};t[a.id]=a.sFI,ie=Object.assign({},ie,t)}else te||(a.sFI=[]);a.mode=H?h["ModifyMode"]:Q?new h["SnappableMode"](new h["TranslateMode"]):_?h["DuplicateMode"]:h["ViewMode"]}):q.map(e=>{e.sFI=[],e.mode=h["ViewMode"],ie=Object.assign({})}),a({type:"editMap/save",payload:{editLayerProps:q,selectedFeature:ie}}))},he=[];return q.map(e=>{he.push(e.id)}),ge.push(new j["SelectionLayer"]({id:"selection",selectionType:K,onSelect:e=>{var t=e.pickingInfos;console.log(t),te||q.map(e=>{e.sFI=[]}),t.map(e=>{q.map(a=>{a.id==e.layer.id&&(a.sFI=a.sFI.includes(e.index)?a.sFI.filter(a=>a!==e.index):[...a.sFI,e.index])})}),ie={},q.map(e=>{ie[e.id]=e.sFI}),ie=Object.assign({},ie),a({type:"editMap/save",payload:{editLayerProps:q,selectedFeature:ie}})},pickingDepth:5,layerIds:["lanelyr","linelyr","sectionlyr"],getTentativeFillColor:()=>[83,92,105,100],getTentativeLineColor:()=>[83,92,105,255],lineWidthMinPixels:3})),ge.push(new L["a"]({id:"point-cloud-layer",data:pe,pickable:!1,coordinateSystem:x["a"].METER_OFFSETS,coordinateOrigin:[121.807491,30.86454],radiusPixels:4,getPosition:e=>e.position,getNormal:e=>e.normal,getColor:e=>e.color,loaders:[V["a"]]})),ce&&ge.push(new T["a"]({id:"text-layer",data:pe,pickable:!0,getPosition:e=>e.position,getText:e=>e.name,getSize:32,getAngle:0,getTextAnchor:"middle",getAlignmentBaseline:"center",onClick:()=>{console.log("textonclivk")}})),ne&&oe&&le&&se&&ge.push(new S["a"]({id:"camera-icon-layer",data:[{coordinates:[le,se]}],getIcon:e=>({url:R.a,width:100,height:100}),getAngle:e=>-de-180,pickable:!0,sizeScale:100,getPosition:e=>e.coordinates,onClick:()=>{console.log("jjjjjjjjjj")}})),ge.push(new S["a"]({id:"traffic-light-layer",data:me,getIcon:e=>({url:P.a,width:30,height:30}),pickable:!0,sizeScale:30,getPosition:e=>e.coordinates,onClick:()=>{console.log("jjjjjjjjjj")}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(f["a"],{viewState:n,layers:ge,onClick:fe,onHover:Me,views:[new k["a"]({controller:{type:w["b"],doubleClickZoom:!1}})],getTooltip:e=>{if(e.object)return e.object.heightInfo},onViewStateChange:e=>s(e.viewState),getCursor:()=>"crosshair"},r.a.createElement(y["a"],M()({},n,{className:I.a.main,mapboxApiAccessToken:m["a"].token,mapStyle:ve()}))),r.a.createElement(A["a"],{title:"Add text",visible:E,onOk:ue,onCancel:ye},"Add text:",r.a.createElement(g["a"],{placeholder:"add text",value:B,onChange:Ae})),r.a.createElement("div",null))}var U=B,G=(t("sRBo"),t("kaz8")),J=t("4+2k"),Y=t.n(J);function X(){var e=Object(l["d"])(),a=d("editMap"),t=a.mapConfig,i=a.layerValues,n=Object(o["useState"])(i),s=p()(n,2),c=s[0],m=s[1],u=a=>{m(a),t.layers.map(e=>{a.includes(e.id)?e.layout.visibility="visible":e.layout.visibility="none"}),e({type:"editMap/save",payload:{mapConfig:t,layerValues:a}})};return r.a.createElement("div",{className:Y.a.main},r.a.createElement(G["a"].Group,{value:c,onChange:u},t.layers.map(e=>r.a.createElement(G["a"],{value:e.id,key:e.id},r.a.createElement("span",null,e.id)))))}var W=X,Z=(t("+L6B"),t("2/Rp")),N=t("OdGm"),z=t.n(N);function q(){var e=Object(l["d"])(),a=d("editMap"),t=a.editLayerProps,i=a.editLayerValues,n=(a.latestModeMap,Object(o["useState"])(i)),s=p()(n,2),c=s[0],m=s[1],u=Object(o["useState"])(!1),y=p()(u,2),v=y[0],M=y[1],f=Object(o["useState"])(""),E=p()(f,2),O=E[0],k=E[1],w=a=>{c=a,m(c),t.map(e=>{e.mode=e.mode,a.includes(e.id)?e.visible=!0:e.visible=!1}),i=a,e({type:"editMap/save",payload:{editLayerProps:t,editLayerValues:i}})},b=()=>{M(!1);var a={id:O,data:{type:"FeatureCollection",features:[]},mode:h["ViewMode"],sFI:[],visible:!0};t.push(a),i.push(a.id),e({type:"editMap/save",payload:{editLayerProps:t,editLayerValues:i}}),c=i,m(c),k("")},j=()=>{M(!1),k("")},L=e=>{k(e.target.value)},T=()=>{M(!0)},S=()=>{t=t.filter(e=>!c.includes(e.id)),i=[],t.map(e=>i.push(e.id)),e({type:"editMap/save",payload:{editLayerProps:t,editLayerValues:i}}),c=i},V=()=>{var a=document.createElement("input");a.type="file",a.onchange=a=>{var n=a.target;if(n.files&&n.files[0]){var o=new FileReader;o.onload=a=>{var o=a.target,r=null;try{r=JSON.parse(o.result);var l={id:n.files[0].name,data:r,mode:h["ViewMode"],sFI:[],visible:!0};t.push(l),i=[],t.map(e=>{1==e.visible&&i.push(e.id)}),e({type:"editMap/save",payload:{editLayerProps:t,editLayerValues:i}}),c=i,m(c)}catch(s){alert("file upload failed!")}},o.readAsText(n.files[0])}},a.click()};return r.a.createElement("div",{className:z.a.main},r.a.createElement(G["a"].Group,{value:c,onChange:w},t.map(e=>r.a.createElement(G["a"],{value:e.id,key:e.id},r.a.createElement("span",null,e.id)))),r.a.createElement("br",null),r.a.createElement(Z["a"],{onClick:T},"addNewlayer"),r.a.createElement(Z["a"],{onClick:S},"Delete"),r.a.createElement(Z["a"],{onClick:V},"Upload"),r.a.createElement(A["a"],{title:"Add new layer",visible:v,onOk:b,onCancel:j},"Enter the layer name:",r.a.createElement(g["a"],{placeholder:"Enter the layer name",value:O,onChange:L})))}var K=q,H=(t("qVdP"),t("jsC+")),Q=(t("lUTK"),t("BvKs")),_=t("8Skl"),$=t("Bwxa"),ee=t.n($);function ae(){var e=Object(l["d"])(),a=d("editMap"),t=a.editLayerProps,i=a.latestModeMap,n=a.isModifyModeOn,s=a.isTranslateModeOn,c=a.isDuplicateModeOn,m=a.isEditOn,u=a.selectedFeature,y=a.is3DViewshown,g=a.isCameraShown,v=a.isBearingSet,M=a.cameraLon,f=a.cameraLat,E=a.cameraRotateDegree,O=a.isTextModeOn,k=a.isTopoModeOn,w=a.isATshown,b=Object(o["useState"])("select a layer"),j=p()(b,2),L=j[0],T=j[1],S=Object(o["useState"])(!1),V=p()(S,2),x=V[0],C=V[1],I=a=>{T(a.key),"stop edit"==a.key&&(m=!1,e({type:"editMap/save",payload:{isEditOn:m}})),t.map(e=>{e.id==a.key&&i.get(a.key)?(e.mode=i.get(a.key),m=!0):e.mode=h["ViewMode"]}),e({type:"editMap/save",payload:{editLayerProps:t,isEditOn:m}})},F=r.a.createElement(Q["a"],{onClick:I},t.map(e=>r.a.createElement(Q["a"].Item,{key:e.id},e.id)),r.a.createElement(Q["a"].Item,{key:"stop edit"},"stop edit")),R=()=>{C(!1)},D=a=>{m=!0;var n=a.currentTarget.firstChild.innerText;if("select a layer"!==L){var o;switch(n){case"drawPoint":o=h["DrawPointMode"];break;case"drawLine":o=h["DrawLineStringMode"];break;case"drawPolygon":o=h["DrawPolygonMode"];break}t.map(e=>{e.id==L?e.mode=o:e.mode=h["ViewMode"]}),i.set(L,o),e({type:"editMap/save",payload:{editLayerProps:t,latestModeMap:i,isEditOn:m}})}},P=()=>{},B=()=>{},U=()=>{O=!O,e({type:"editMap/save",payload:{isTextModeOn:O}})},G=()=>{c=!c,c?(s=!1,n=!1,m=!1,t.map(e=>{e.mode=h["ViewMode"]})):(m=!0,t.map(e=>{e.sFI=[],e.id==L?e.mode=i.get(L)?i.get(L):h["ViewMode"]:e.mode=h["ViewMode"]})),e({type:"editMap/save",payload:{isTranslateModeOn:s,isDuplicateModeOn:c,isModifyModeOn:n,editLayerProps:t,isEditOn:m}})},J=()=>{s=!s,s?(c=!1,n=!1,m=!1,t.map(e=>{e.mode=h["ViewMode"]})):(m=!0,t.map(e=>{e.sFI=[],e.id==L?e.mode=i.get(L)?i.get(L):h["ViewMode"]:e.mode=h["ViewMode"]})),e({type:"editMap/save",payload:{isTranslateModeOn:s,isDuplicateModeOn:c,isModifyModeOn:n,editLayerProps:t,isEditOn:m}})},Y=()=>{t.map(e=>{var a=e.data.features.filter(a=>!e.sFI.includes(e.data.features.findIndex(e=>e==a)));e.data=Object.assign({},e.data,{features:a}),e.sFI=[]}),e({type:"editMap/save",payload:{editLayerProps:t}})},X=()=>{C(!1),t.map(e=>{e.id==L&&(e.data={type:"FeatureCollection",features:[]})});var a={};a[L]=[],u=Object.assign({},u,a),e({type:"editMap/save",payload:{editLayerProps:t,selectedFeature:u}})},W=()=>{var e=t.filter(e=>{if(e.id==L)return!0})[0];if(e){var a=new Blob([JSON.stringify(e.data)],{type:"octet/stream"}),i=document.createElement("a");i.href=URL.createObjectURL(a),i.download=e.id,i.click()}else alert("select a layer to download !")},N=()=>{k=!k,e({type:"editMap/save",payload:{isTopoModeOn:k}})},z=()=>{w=!w,e({type:"editMap/save",payload:{isATshown:w}})},q=()=>{y&&(g=!1,v=!1,M=null,f=null,E=0),y=!y,e({type:"editMap/save",payload:{is3DViewshown:y,isCameraShown:g,isBearingSet:v,cameraLon:M,cameraLat:f,cameraRotateDegree:E}})},K=()=>{n=!n,n?(s=!1,c=!1,m=!1,t.map(e=>{e.mode=h["ViewMode"]})):(m=!0,t.map(e=>{e.sFI=[],e.id==L?e.mode=i.get(L)?i.get(L):h["ViewMode"]:e.mode=h["ViewMode"]})),e({type:"editMap/save",payload:{isTranslateModeOn:s,isDuplicateModeOn:c,isModifyModeOn:n,editLayerProps:t,isEditOn:m}})};return r.a.createElement("div",{className:ee.a.main},r.a.createElement(H["a"],{overlay:F},r.a.createElement(Z["a"],null,L," ",r.a.createElement(_["a"],null))),r.a.createElement(Z["a"],{onClick:D},"drawPoint"),r.a.createElement(Z["a"],{onClick:D},"drawLine"),r.a.createElement(Z["a"],{onClick:D},"drawPolygon"),r.a.createElement(Z["a"],{style:n?{color:"red"}:{},onClick:K},"modify"),r.a.createElement(Z["a"],{style:c?{color:"red"}:{},onClick:G},"Duplicate"),r.a.createElement(Z["a"],{style:s?{color:"red"}:{},onClick:J},"Translate"),r.a.createElement(Z["a"],{onClick:Y},"delete"),r.a.createElement(Z["a"],{onClick:P},"Undo"),r.a.createElement(Z["a"],{onClick:B},"Redo"),r.a.createElement(Z["a"],{onClick:()=>{C(!0)}},"Clear"),r.a.createElement(Z["a"],{style:y?{color:"red"}:{},onClick:q},"open3DViews"),r.a.createElement(Z["a"],{onClick:W},"Download"),r.a.createElement(Z["a"],{style:O?{color:"red"}:{},onClick:U},"addText"),r.a.createElement(Z["a"],{style:k?{color:"red"}:{},onClick:N},"openTopoMode"),r.a.createElement(Z["a"],{style:w?{color:"red"}:{},onClick:z},"openAttributeTable"),r.a.createElement(A["a"],{title:"clear confirm",visible:x,onOk:X,onCancel:R},"Are you sure you want to clear the data?"))}var te=ae,ie=t("8ZhI"),ne=t.n(ie);function oe(){var e=Object(l["d"])(),a=d("editMap"),t=(a.editLayerProps,a.latestModeMap,a.selectionType),i=a.isEditOn,n=Object(o["useState"])(!1),s=p()(n,2),c=(s[0],s[1],a=>{i=!1;var n=a.currentTarget.firstChild.innerText;switch(n){case"selectByRect":t=h["SELECTION_TYPE"].RECTANGLE;break;case"selectByLasso":t=h["SELECTION_TYPE"].POLYGON;break;case"clearSelection":t=h["SELECTION_TYPE"].NONE;break}e({type:"editMap/save",payload:{selectionType:t,isEditOn:i}})}),m=()=>{};return r.a.createElement("div",{className:ne.a.main},r.a.createElement(Z["a"],{onClick:m},"selectByPoint"),r.a.createElement(Z["a"],{onClick:c},"selectByRect"),r.a.createElement(Z["a"],{onClick:c},"selectByLasso"),r.a.createElement(Z["a"],{onClick:c},"clearSelection"))}var re=oe,le=t("h7zg"),se=t.n(le);function de(){var e=Object(l["d"])(),a=d("editMap"),t=a.editLayerProps,i=(a.latestModeMap,a.isModifyModeOn,a.isEditOn,a.selectedFeature),n=Object(o["useState"])("select a layer"),s=p()(n,2),c=(s[0],s[1],Object(o["useState"])(!1)),m=p()(c,2),u=(m[0],m[1],e=>{var a={},i=[];if(e&&e.length>2){var n,o;e.map(e=>{var i=t[0].data.features[e].geometry.coordinates;a[e]=b["midpoint"](b["point"](i[0]),b["point"](i[i.length-1])).geometry.coordinates}),e.map(t=>{t!==e[0]&&b["distance"](a[e[0]],a[t],{units:"miles"})>(o||0)&&(o=b["distance"](a[e[0]],a[t],{units:"miles"}),n=t)}),i.push(n);var r=[];return e.map(e=>{e!==n&&r.push([e,b["distance"](a[n],a[e],{units:"miles"})])}),r.sort((e,a)=>e[1]-a[1]).map(e=>i.push(e[0])),i}}),y=u(i["linelyr"]),A=()=>{var a=t[0].data.features[i["linelyr"][0]].geometry.coordinates,n=t[0].data.features[i["linelyr"][1]].geometry.coordinates;if(2==i["linelyr"].length){i["linelyr"];var o={type:"feature",properties:{subLineIndexes:i["linelyr"],manual:!0},geometry:{type:"MultiLineString",coordinates:[a,n]}};t.map(e=>{"linelyr"==e.id&&(e.data.features[i["linelyr"][0]].properties.manual=!0,e.data.features[i["linelyr"][1]].properties.manual=!0),"lanelyr"==e.id&&(e.data={type:"FeatureCollection",features:[...e.data.features,o]})}),e({type:"editMap/save",payload:{editLayerProps:t}})}},g=(e,a)=>Array.from(new Array(a+1).keys()).slice(e),v=()=>{if(i["lanelyr"].length>0){var a=[];i["lanelyr"].map(e=>{a.push(...t[1].data.features[e].properties.subLineIndexes)});var n=u(Array.from(new Set(a)));if(n){var o=t[0].data.features[n[0]].geometry.coordinates,r=t[0].data.features[n[n.length-1]].geometry.coordinates,l=b["multiLineString"]([o,r]),s=b["convex"](l),d={type:"feature",properties:{subLaneIndexes:i["lanelyr"]},geometry:s.geometry};t.map(e=>{"sectionlyr"==e.id&&(e.data={type:"FeatureCollection",features:[...e.data.features,d]})}),e({type:"editMap/save",payload:{editLayerProps:t}})}}else if(t[0].data.features[i["linelyr"][0]].properties.manual)alert("\u8be5\u7ec4\u7ebf\u6bb5\u5df2\u5408\u6210lane,\u8bf7\u786e\u4fddlane\u56fe\u5c42\u53ef\u89c1\u518d\u8fdb\u884c\u8981\u7d20\u9009\u62e9\uff01");else if(y){console.log("\u5168\u81ea\u52a8\u5408\u6210");var c=[];y.map((e,a)=>{if(a!==y.length-1){var i=t[0].data.features[e].geometry.coordinates,n=t[0].data.features[y[a+1]].geometry.coordinates;c.push({type:"feature",properties:{subLineIndexes:[e,y[a+1]]},geometry:{type:"MultiLineString",coordinates:[i,n]}})}});var p=t[0].data.features[y[0]].geometry.coordinates,m=t[0].data.features[y[y.length-1]].geometry.coordinates,A=t[1].data.features.length-1,v=b["multiLineString"]([p,m]),M=b["convex"](v),f={type:"feature",properties:{subLaneIndexes:g(A,A+c.length)},geometry:M.geometry};t.map(a=>{"lanelyr"==a.id&&(a.data={type:"FeatureCollection",features:[...a.data.features,...c]}),"sectionlyr"==a.id&&(a.data={type:"FeatureCollection",features:[...a.data.features,f]}),e({type:"editMap/save",payload:{editLayerProps:t}})})}};return r.a.createElement("div",{className:se.a.main},r.a.createElement(Z["a"],{onClick:A},"compositeLane"),r.a.createElement(Z["a"],{onClick:v},"compositeSection"))}var ce=de,pe=t("p0pE"),me=t.n(pe),ue=(t("i8i4"),t("R8Mb")),ye=t("RPaY"),Ae=t("jC/l"),ge=t("JBga"),ve=t("YRhA"),Me=(t("1Wqb"),t("GvSj")),fe=t.n(Me),he=t("mvL8"),Ee=t.n(he),Oe={las:{colorDepth:16,fp64:!0}},ke=Object(ge["a"])(fe.a,ve["a"],Oe),we=(e,a)=>{var t=[],i=e/20037508.34*180,n=a/20037508.34*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),t=[i,n],t};ue["b"];var be={target:[0,0,-16],rotationX:15,rotationOrbit:-15,zoom:2};new ye["a"](["rotationOrbit"]);function je(e){var a=e.onLoad,t=Object(o["useState"])(be),i=p()(t,2),n=i[0],s=i[1],c=Object(o["useState"])(!1),m=p()(c,2),u=m[0],y=m[1],A=Object(l["d"])(),g=d("editMap"),v=g.trafficLightData;Object(o["useEffect"])(()=>{if(u);},[u]);var M=e=>{var a=we(e.coordinate[0],e.coordinate[1]);v=[...v,{coordinates:a,heightInfo:e.coordinate[2].toFixed(3)+"m"}],A({type:"editMap/save",payload:{trafficLightData:v}}),console.log(e)},h=e=>{var t=e.header;if(t.boundingBox){var i=p()(t.boundingBox,2),n=i[0],o=i[1];s(me()({},be,{target:[(n[0]+o[0])/2,(n[1]+o[1])/2,(n[2]+o[2])/2],zoom:Math.log2(window.innerWidth/(o[0]-n[0]))-1})),y(!0)}a&&a({count:t.vertexCount,progress:1})},E=[new L["a"]({id:"laz-point-cloud-layer",data:ke,onDataLoad:h,pickable:!0,coordinateSystem:x["a"].CARTESIAN,pointSize:1})];return r.a.createElement("div",{className:Ee.a.outerdiv},r.a.createElement("div",null,"\u70b9\u4e91\u89c6\u56fe"),r.a.createElement(f["a"],{width:400,height:300,views:new Ae["a"]({orbitAxis:"Z"}),viewState:n,controller:!0,onViewStateChange:e=>s(e.viewState),layers:E,parameters:{clearColor:[.0117,.17,.1764,1]},onClick:M,onHover:e=>{console.log(e.coordinate,e.layer)}}))}var Le=je;t("42jg"),t("Br1A"),t("qtf9");t("ivNZ");function Te(){document.head;var e=Object(o["useState"])({width:window.innerWidth,height:window.innerHeight,latitude:30.86454,longitude:121.807491,zoom:13,minZoom:5,maxZoom:22}),a=p()(e,2),t=(a[0],a[1],Object(l["d"])()),i=d("editMap"),n=(i.mapConfig,i.isDragPan,i.isShiftDown),s=i.is3DViewshown;Object(o["useRef"])(),Object(o["useRef"])(),Object(o["useRef"])();Object(o["useEffect"])(()=>{}),document.onkeydown=e=>{16==e.keyCode&&(n=!0,t({type:"editMap/save",payload:{isShiftDown:n}}))},document.onkeyup=e=>{16==e.keyCode&&(n=!1,t({type:"editMap/save",payload:{isShiftDown:n}}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement(W,null),r.a.createElement(K,null),r.a.createElement(te,null),r.a.createElement(re,null),r.a.createElement(ce,null),s?r.a.createElement(Le,null):null)}var Se=Te;a["default"]=function(){var e=n["a"].TabPane,a=(Object(l["d"])(),d("editMap")),t=(a.editLayerProps,a.selectionType,a.isATshown),o=[{index:1,vertex:"tessssss",line_type:"\u8def\u6cbf\u7ebf",line_shape:"\u76f4\u7ebf"},{},{},{},{},{}],s=[],c=()=>{};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Se,null)),t?r.a.createElement("div",{style:{position:"absolute",bottom:"0px",width:"100%"}},r.a.createElement(n["a"],{onChange:c,type:"card"},r.a.createElement(e,{tab:"line",key:"1"},r.a.createElement(i["a"],{columns:m["a"].line_columns,dataSource:o})),r.a.createElement(e,{tab:"lane",key:"2"},r.a.createElement(i["a"],{columns:m["a"].lane_columns,dataSource:s})),r.a.createElement(e,{tab:"section",key:"3"},r.a.createElement(i["a"],{columns:m["a"].sec_columns,dataSource:s})),r.a.createElement(e,{tab:"mask",key:"4"},r.a.createElement(i["a"],{columns:m["a"].mask_columns,dataSource:s})),r.a.createElement(e,{tab:"traffic_light",key:"5"},r.a.createElement(i["a"],{columns:m["a"].trafficLight_columns,dataSource:s})))):null)}},GvSj:function(e,a,t){e.exports=t.p+"static/lingang2_sec2.86bd6637.las"},OdGm:function(e,a,t){e.exports={main:"main___1obxi"}},XfOM:function(e,a,t){e.exports={normal:"normal___2EbG1",welcome:"welcome___2Q0k6",list:"list___1o6ac"}},h7zg:function(e,a,t){},ivNZ:function(e,a,t){e.exports={main:"main___1Na3k",test:"test___u5Xpw"}},mvL8:function(e,a,t){},qtf9:function(e,a,t){e.exports={main:"main___2ywBY"}},vYv5:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB/lBMVEUAAAA4VFpEW2IuTFNZb3QrSFMyT1ZXbnRBXGJRaW4AEh1JY2k/WmE6VlxIYmdieX1ddHhEXWRpfoKMmZwAFiFwhYo+WWBpf4RMZWs/WWA9WV8zUFc6Vlw2U1k5VVtmen9AWmA5VVs1UVhFX2Y9WF46VlxGX2U1UlhFX2VDXmQ+WV////84VFtHYGY+WV80UVdCXGI6Vlw6Vlw0UFdHYGc+WV86VVtGX2VBW2Gcp6mstLWEk5a2vL1+jpJbbXJ+j5NpfYG1vL1dbnN2VFasWVetWVd3VFZcbXKirK55io58VFXhXljlX1jlX1ngX1l7VFWrs7Vaa3C0WlfpX1jjX1mzWldYaW62WlfmX1jnX1ikra9zhImEVVboX1hwgoawuLpWZmuGVVbBW1eMmp2wt7ltf4RYZWm5vsDU1dW2vb6Jl5qzubt0hYpZa25sf4Oyubtaa26EZUy9dki+dkiFZUyjrK92h4uFZU3rg0TxhET0hkTwhEVabG/zhUTtg0TuhET1hkTvhETuhUXyhkW9dknvhEXzhkTshEWEZU22vL5ObGuxuLpPbGtGiFxUsWJFh1xeymZfzWZTbW9SqmFeymVeyWZey2ass7VVb3BRqGFdx2V5iY5CgVtfymZex2a2u71YcXNCfltQpGFRpGFDflxZcXN/jpJXcHNYcHP///8HI4/IAAAAOHRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+F2DDB/h7FfxLIKOUp5hTLAYwm0XH+H8mDE8kp5jIDHz0AAAABYktHRCskueQIAAAAB3RJTUUH5QsaAgMfZ4gsIwAAAatJREFUKM9jYIACRiZmKWkZCwsZaSlmJkYGNMDCyiYrJ29pZWUpLyfLxsqCJs3OoaBobWNrZ2dvY62owMGOJs3JpeTg6OTs4urm7uigxMWJJs2trOLh6eXt4+vn7+mhosyNJs2jqhYQGBTsE+IbGhigpsqDJs2rrhEQFh4c4RMZHhagoc6LJs2nqRUVHeMTG+sTEx2lpcmHJs2vrRMXn5CYlJSYEB+no82PJi0gqKuXnJKalpaakqynKyiAJi0kLKJvkJ6RmZmRbqAvIiyEJi0qZmiUlZ2Tm5uTnWVkKCaKJi3OYJyXX1BYVFxSkJ9nDOSiAgkT09Ky8orKquqSslJTEwk0aUkz84Ca4tq6+qrimgBzM0ms0g2NTc0t2KTBhpe0NrS1d2AzHOK0kuLiDqxOI+AxaLB0dmIPFmigdnVhD1RQlHT39Pb19fZ0Y4kScIT2T5g4cUI/tggFJYdJk6dMnTZx8iQsyQGYmKbPmDlh1tSJM2dMx0xMoKQ4e86sCXPnzZmNJSmCEvL8BQsXLV6ydD6WhAzJBsuWr1jWiS0bQDPR9OnYMxGOLAgAYbOCMkZid6IAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMTEtMjZUMDI6MDM6MTkrMDA6MDD8xQsKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTExLTI2VDAyOjAzOjE5KzAwOjAwjZiztgAAAABJRU5ErkJggg=="},wLF8:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5QsSCCwi5d/1ZgAADgJJREFUeNrtnFmMHMd5x39V1df0zM7O7EmK1EGRFA/xkmRbsawAseEgMGg7SAIYsQ0nEvmW1zh5DpCXAMqjAwMOZAsCwiAyFMMU5OhIYMkSGcmJKdGUKVGkRK24u7MHuTs7Z093V1ceema5VEhZiqP0KOof0diDs1Nd37+/Or7vq4GcnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnP/HiKxv4H/C9x9++EO9/sjRo1nf8gdmKAV5P4MLIVBK4TgOnucxOjrKgYMHMSYh0Zq33nqbWq1Gr9cjiiK01hhjrvtewyjU0AjyXhEspZicmuLJJ5+0tm/fXvY8b9KyrCml1LRSakJKWZFSjgghCoA/+DtjTGSMaSZJ0k2SZCVJksX+VYuiePnYP/+o8WdHHjBhGF4j1LCIk7kgAyESrfF9n69/85v83Xe+s6lUKu33PO9ez/MOua673XXdadd1y47jeJZtK9uyUEohpcT0/15rTRzHxHFEFEZEUUQUhjqMwiAMo3oURXNxHL8Wx/HLsdYvdYLg3NjoaK8XhtiWTS/sZS5MpoJ8/+GHOXL0KD987DFOnDhh33PPPZ8ul8tfK5VKXyyVSrcXfL/guS6242D1jS+kRAiBFAIhBAhBkiToOCbWMTrqCxLFxFGUChT1xYkiwjAkDEN6UbgURfFLsdb/FGv9E8ey6lEcI4TgTx944JMnyCM/+AGvvPIK3/rWn/Dmm+d2j4+Pf7tSqfxhqVSqOq6bPv19owsp17+XUiJEKkoqSOodcRwTxRFxGPUFiYg3ihJHxLFeFy79XUwUx1Ec6xe1MX+jPe9Z0ekYYwwPPPjgJ0sQYwynXz3N7Oylz01MTHy3XB7d77gOUkmkkOvDkZRXjS+EQJCKMPgKpIaNwv4wFRJfHa7WPWPgJakwqRg6SUh0kn415oqBv3J9/7txGOowDDMZvqwsxPjHY8c4efIkcRRvuvXW2/62NFLab1k2Ul1rfOjbXIirT86veYTEDV5jBv+MSUVIvaMvUozWyXhizF+3W63XjDHPSaWyME02gnz9G9+gVlug2Wwe9n3/XqUkbHjiP3IEIK42ZoxB65goiisGvnJlYeG5W+64IwvTILNo9MSJE/zrs89Iz/M+L6XsW8aA+c3e9zcjvY0kSfZPbd3qBd1uJneRiSDlkTKH7rq7KIS4/b0GyRpjzKTW2k+0zqT9TIasxCQIIwpAJZNevz8FIYSzcUj7vyQbQZIEIUQCJpvH8P0QdIEwK3/NRJCgGwAESdWsZbSYuSECsWrZdjcrQTKZQ5aXlzhx4oWu1vF8Rv2+sUGkfPfAZ+8LHNfNpv0sGr106RJ//u2/0L2gd+5GkdiskEr+6uVnnzHlSiWb9rNodGRkhLO/Okur1TqttY4z6fl/wyCk7FqW/Yrn+7RbrUzuIpM5JI5jLs1ewiTmdLVaXbBta2u6Ccl26SulnLFd9yzGZBb1zcRDjhw9ykKtxksvnXy32Wq9kg5bH1yMa2JbGy+5Id6VvvBDvK3AsqwTOw4dqtmOk4VZgIw8BOBTn/4Mn7n3t3oLtdoz1Wr1K+51JlExiGEJgUkStNbrIfQojAjDHmE/iDiYi66xvzGYRAMGwQahroOUMrRs+yfnf/EL84kU5Ocvv4RfLKJj/dOJyYna1NTU5sH8LoQAY+h0u7QaDRrNJp12m16v1w8E6vUrSRJMalBkPz8i+j8PzC8YeBUIw3VDNNKyzirHeVFlvMjITJAjR4/y99/7Hv9+8uS5zZs3PV+tVv/Ysm0AVldXmZ+dZW1tjSAI0vx4HBMEAe12m06nQy8M06itTsPolmVR8Dxs28aYNKrreR7FYhGv/3vHtpFSQGLAJOv3IqREKutHvVZzySuN8OCRI588QQCUUhz+8pfjxcXFx6ampv9gcmrKvXzlMmdOn9ZrjTU1OzfP8vIyURghpUjzFukun0RrVtfWqK816IUhQoBfKDA9OcVNmzcBMD9fQycapRRJkmDbNpMTE2zduoWC6xlpjACQSs0IpX7oFktkvQzPVBBIvaHVbD43MTF5arRa+Wy322388swvrywvX962tLyM67qUikWS5Or432q1eXd2lmariY5i0kCgYUUqFhYXmV9c4OC+fUxMjLOyukIcazCGtbU1FhcXqS3U2Lxp0/K2rTeXpGX5Av4hXF543ZnclLU5yDRw8ePjxzl8+DATExNBvb7qd9qdL7Xb7fobb7xRWK3XfSGg6PsIKVFSkmhNu93hrYtv02g2iLsBtnRwimPYbgmpNb1Om1anQ6PZYMtNN+G5HoMKk4Gn6DhGCHSxVAq9QuEsQvylKo2sQfbVJ5l7iG3bPPXUU0RR9MSOHTu+ViwW90RRNJpojW07yL4YCEEYRcwv1Gi0Wpighz9+M2ulaRrdAGMMIxPTjPXqdJYusri4xPkLFziwbx9eEBAEARiDbdtEUQQwcnllZea5559/9MfHj78LH74A76NgOJIQKXd6nvdHv//Vr/7O2PjY51dW67iOi2VbOH0jrtTrnHvzTbrtNn5xnJXqbSzPzzBCiAAaEZQ33cxN0SqtlTmqkxP87he+QKI1zVarn1ePSUxCZXSUmZmZf3viiSceB44Ba1kbADLaGN6ALUEQmKDXE1on6xUlgxy5ThK63S5BGIJOoDzF6nINq7PCrttvYc+O23B1h9bSLIFbRiFotVq0Wi0sy1rP0TuOzefuu4+Dhw7i+36ZNCczkXXnB2Q+ZPVRwDgg1hoNzwBB0EMphVISpSxc11nfeyjACIkMO0xvvQUKZRIp2Xr7DuZmZwljjS3koMyHVrtNrVZDKcX999/P7t276Xa7WLbtADYwBryVtRFgeASxSMtBzVi1moyPj9NqtZFKYikL27YIowil0tuNE42te1iOR6lSpTQ+hRACIxWLi8s4RhPrCOV4OLaN53lMjI9TqVQ4cOAAruvi+z537t07iNmMZG2AAcMyZCn6D4fWuuu6Lo5jp7VZKq3RsiwLv1DAcRwiY4hWa0xWqgStFn7SxYk7LFyawfVKWJ1VejqmXB6hVCqh4xhlKRqNBpeXl9ffb2pqKuq3b2dtgAHDIshgN2bq9fqKUsqofipxULOrpMTzXKYmJzFSUG+sUGjU2FKtkEQJUTek4o8wpls06wtgKXbcvh0lJb1ej0QnhGFIp9NZD0YWCoVBO0OTlBmWIUsDISDm5uYWDx482LZtu2QM62Wflm1j2zY3bdpEq9VifmGBpSvztBpXcL0iIAh7HTphF6MUe7bvYNutt9LutAmjiFhrhBCURkYGJakmDMNOf2ceZG2AAcMiSAw0ATk7O7vSbrfn/WLxDq0TDIY4jkEILKUoeB67d+7Ec11m5+dpBgGNXpc0waQoFYvs2rmTfXv3EkURnXanX2oaMTU1xeTE5GDFFSwuLq4mSaKBRtYGGDAsgiTAErA3CILw4sWLZw7ddWhHbFtyEPmNogijFEopPM9j186dbN2yhdXVVTpBFyklo+Uym6c3URkdTcXodtNia53Gs3bdsYtSqYiUkjiOV86cObMM9IDLWRtgwLAIAjALRIB16tSpczt37pzxfX9bEPSQUoLoEYYhUicoKy3EHh0pM1appLv5fnF2YgzNZpOwf3oq6UeCt2zZwu7duwavCxYXF+dOnjy5AqwCV7Lu/IBhmdQBasAyIOv1eufUqVM/E1J2XddBWYpCoYDv+yBYP+MRRiG9sEfQC2h3OjSaTRqNBu1OhzDsYYyhUChQGa1w9113Uy6XEUIkWuulF1988cLFixe7wEUgm7rR6zBMVVEx4AHbAFGr1VYnxseT6enpbVIICSLdIDoOSql+gbROz3xoneZFdJrjUEpR8HyKvo/jOOzfv4+9e/ekngaXZ2ZmLjz00ENn6vV6HXiOdP4aCoZpyAJ4DdgPTBtjzNNPP/2y4zje9u3bf1sqpeI4xhiJsiw8zyPp50fW07f9Az1Sqn72MBXHLxaxLAtjzJVGozH76KOPvvbOO+8EwOuknjk0DJOHQDrBRsB2QGqtk7cuXLhUGhnpTE5O3uTYtiPWT1KpfmjFwrLs/mVhWQo1+D8r3QBeXl7uGGPOl0ql1ccff/zMI488col0In8G6GTd6Y0MmyCQGqoIbAHQSWLOnz8/12m3L42NjfnFYnHUsmw1OGk1CM+vXxuEkFLGjbX62y+88MK/HD9+/D/m5uauHDt2bDaO4y6pGO9m3dn3Mkzh9434wGFgD1d30Ynv++6BAwdu27Vr151jY2O3OI5TllLaV0/fGJMkSRxGYbO+Wr90/vz5s6dfffXtZqvV7fdVkM5VPwVeZoh26AOGVRCAEvB7wN7+fa4LI6VUk5OTpc2bN1er1WqlUCh4AEEQ9Or1+lqtVltZWlpqaq01V1eSgnRH/jPg56R7n6FjmAWBdNV1H/ApoMC1RrxBQc96v8R7vl8mXVG9zhB6xoBhnEM2EgPvAAukw9gI164Mxa+5JNAGXmVI54z3MuweshGHdI+yB9hKKo59nT4kpKu1VeBtri5th9YrNvJxEmSAJBVjgjTTNxDGkM4RDdKV2hWGaAeek5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OT89HxcSoDckg/XGBwlFkAm0lLfRqkJUA20OLaT8xWpCVBQ3Ow8/0YtvMh78edwBeBSdIDNm1gH6lQ7X5f1oD/BG7u/7yVtEjuKdJ63qHn4ySIIDX8G6Qlpl8C3gRmAJer3r7C1RLZC8Ac6YHSnP9l3P4FafXidm78kRgfp6E4JyfnA/NfsFWYOkCkFUoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMTEtMThUMDg6NDQ6MjIrMDA6MDBrD/vhAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTExLTE4VDA4OjQ0OjIyKzAwOjAwGlJDXQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="}}]);